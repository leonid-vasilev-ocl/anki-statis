const n={en:{title:"Anki Statistics Dashboard",language:{english:"English",russian:"Русский"},filters:{allDecks:"All Decks",allLevels:"All Levels",searchCards:"Search cards...",clear:"Clear Filters",dateRange:"Date Range",from:"From",to:"To"},charts:{levelDistribution:"Card Level Distribution",deckPerformance:"Deck Performance",studyTimeline:"Study Timeline",activityHeatmap:"Study Activity Heatmap",cardExplorer:"Card Explorer"},levels:{New:"New",Learning:"Learning",Young:"Young",Mature:"Mature",Relearning:"Relearning",Suspended:"Suspended","Scheduler Buried":"Buried (Scheduler)","User Buried":"Buried (User)"},timeline:{week:"Week",month:"Month",year:"Year",reviews:"Reviews",newCards:"New Cards",matured:"Became Mature"},table:{finnish:"Finnish",translation:"Translation",level:"Level",deck:"Deck",lastReview:"Last Review",firstStudy:"First Study",actions:"Actions"},stats:{totalCards:"Total Cards",studiedToday:"Studied Today",averageDaily:"Daily Average",longestStreak:"Longest Streak",currentStreak:"Current Streak",newWordsToday:"New Words Today",newWordsThisWeek:"New Words This Week",cards:"cards",days:"days",words:"words"},messages:{loading:"Loading data...",noData:"No data available",error:"Error loading data",noResults:"No cards match your filters",cardDetails:"Card Details",exportData:"Export Data"},pagination:{first:"First",previous:"Previous",next:"Next",last:"Last",page:"Page",of:"of",showing:"Showing",to:"to",entries:"entries",search:"Search:",lengthMenu:"Show _MENU_ entries",info:"Showing _START_ to _END_ of _TOTAL_ entries",infoEmpty:"Showing 0 to 0 of 0 entries",infoFiltered:"(filtered from _MAX_ total entries)",emptyTable:"No data available in table",all:"All"},tooltips:{darkMode:"Toggle dark mode",lightMode:"Toggle light mode",refresh:"Refresh data",export:"Export chart",filter:"Filter data"},time:{today:"Today",yesterday:"Yesterday",thisWeek:"This Week",lastWeek:"Last Week",thisMonth:"This Month",lastMonth:"Last Month"}},ru:{title:"Панель статистики Anki",language:{english:"English",russian:"Русский"},filters:{allDecks:"Все колоды",allLevels:"Все уровни",searchCards:"Поиск карт...",clear:"Очистить фильтры",dateRange:"Диапазон дат",from:"С",to:"До"},charts:{levelDistribution:"Распределение по уровням карт",deckPerformance:"Производительность колод",studyTimeline:"График изучения",activityHeatmap:"Карта активности изучения",cardExplorer:"Обозреватель карт"},levels:{New:"Новые",Learning:"Изучение",Young:"Молодые",Mature:"Зрелые",Relearning:"Переизучение",Suspended:"Приостановленные","Scheduler Buried":"Скрытые (планировщик)","User Buried":"Скрытые (пользователь)"},timeline:{week:"Неделя",month:"Месяц",year:"Год",reviews:"Повторения",newCards:"Новые карты",matured:"Стали зрелыми"},table:{finnish:"Финский",translation:"Перевод",level:"Уровень",deck:"Колода",lastReview:"Последнее повторение",firstStudy:"Первое изучение",actions:"Действия"},stats:{totalCards:"Всего карт",studiedToday:"Изучено сегодня",averageDaily:"Среднее в день",longestStreak:"Самая длинная серия",currentStreak:"Текущая серия",newWordsToday:"Новых слов сегодня",newWordsThisWeek:"Новых слов на этой неделе",cards:"карт",days:"дней",words:"слов"},messages:{loading:"Загрузка данных...",noData:"Нет доступных данных",error:"Ошибка загрузки данных",noResults:"Карты не найдены по вашим фильтрам",cardDetails:"Детали карты",exportData:"Экспорт данных"},pagination:{first:"Первая",previous:"Предыдущая",next:"Следующая",last:"Последняя",page:"Страница",of:"из",showing:"Показано",to:"до",entries:"записей",search:"Поиск:",lengthMenu:"Показать _MENU_ записей",info:"Показано с _START_ по _END_ из _TOTAL_ записей",infoEmpty:"Показано с 0 по 0 из 0 записей",infoFiltered:"(отфильтровано из _MAX_ записей)",emptyTable:"В таблице нет данных",all:"Все"},tooltips:{darkMode:"Переключить тёмную тему",lightMode:"Переключить светлую тему",refresh:"Обновить данные",export:"Экспорт графика",filter:"Фильтр данных"},time:{today:"Сегодня",yesterday:"Вчера",thisWeek:"На этой неделе",lastWeek:"На прошлой неделе",thisMonth:"В этом месяце",lastMonth:"В прошлом месяце"}}};class d{constructor(){this.currentLang=this.loadLanguage(),this.observers=new Set}t(e,t={}){const a=this.getTranslation(e);return this.interpolate(a,t)}getTranslation(e){const t=n[this.currentLang],a=n.en,r=(s,o)=>o.split(".").reduce((i,l)=>i==null?void 0:i[l],s);return r(t,e)||r(a,e)||e}interpolate(e,t){return e.replace(/\{\{(\w+)\}\}/g,(a,r)=>t[r]||a)}setLanguage(e){n[e]&&(this.currentLang=e,this.saveLanguage(e),this.notifyObservers(),this.updateUI())}getCurrentLanguage(){return this.currentLang}getAvailableLanguages(){return[{code:"en",name:"English",nativeName:"English"},{code:"ru",name:"Russian",nativeName:"Русский"}]}loadLanguage(){return localStorage.getItem("anki-stats-language")||"en"}saveLanguage(e){localStorage.setItem("anki-stats-language",e)}subscribe(e){return this.observers.add(e),()=>this.observers.delete(e)}notifyObservers(){this.observers.forEach(e=>e(this.currentLang))}updateUI(){document.querySelectorAll("[data-i18n]").forEach(e=>{const t=e.getAttribute("data-i18n");e.textContent=this.t(t)}),document.querySelectorAll("[data-i18n-placeholder]").forEach(e=>{const t=e.getAttribute("data-i18n-placeholder");e.placeholder=this.t(t)}),document.querySelectorAll("[data-i18n-title]").forEach(e=>{const t=e.getAttribute("data-i18n-title");e.title=this.t(t)}),document.title=this.t("title"),document.documentElement.lang=this.currentLang}formatNumber(e,t={}){const a=this.currentLang==="ru"?"ru-RU":"en-US";return new Intl.NumberFormat(a,t).format(e)}formatDate(e,t={}){const a=this.currentLang==="ru"?"ru-RU":"en-US",r=typeof e=="string"?new Date(e):e,s={year:"numeric",month:"short",day:"numeric",...t};return new Intl.DateTimeFormat(a,s).format(r)}getRelativeTime(e){const t=typeof e=="string"?new Date(e):e,r=new Date-t,s=Math.floor(r/(1e3*60*60*24));return s===0?this.t("time.today"):s===1?this.t("time.yesterday"):s<=7?`${s} ${this.t("stats.days")} ${this.currentLang==="ru"?"назад":"ago"}`:this.formatDate(t)}}typeof module<"u"&&module.exports&&(module.exports={I18n:d,translations:n});export{d as I18n,n as translations};
